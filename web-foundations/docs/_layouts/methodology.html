---
layout: default
---

{% comment %} Detect if TOC exists by checking if markdown has {:toc} {% endcomment %} {% assign has_toc = false %} {%
if page.content contains '{:toc}' %} {% assign has_toc = true %} {% endif %}

<article class="lesson mx-auto py-4 px-4">
	<header class="mb-8 pb-6 border-b border-slate-200 dark:border-neutral-800">
		<div class="flex items-center gap-2 mb-3">
			<img src="{{ '/assets/icons/favicon.svg' | relative_url }}" alt="" class="w-6 h-6" aria-hidden="true" />
			{% if page.lang == 'es' %}
			<p class="text-slate-500 dark:text-neutral-500 text-sm m-0">
				WEB ATELIER (UDIT) 路 Aprender haciendo, con teor铆a, pr谩ctica y reflexi贸n compartida
			</p>
			{% else %}
			<p class="text-slate-500 dark:text-neutral-500 text-sm m-0">
				WEB ATELIER (UDIT) 路 Learning by doing, with theory, practice and shared reflection
			</p>
			{% endif %}
		</div>
		<!-- AI Usage Epigraph -->
		<aside class="bg-amber-50 dark:bg-amber-950/30 border-l-4 border-amber-500 p-4 mb-6 text-sm">
			{% if page.lang == 'es' %}
			<p class="font-medium text-amber-800 dark:text-amber-200 mb-2"> Sobre el Uso de IA</p>
			<p class="text-amber-700 dark:text-amber-300 mb-2">
				Para
				<strong>tareas complejas</strong>
				, se recomienda el
				<strong>enfoque de dos fases</strong>
				. Todo uso de IA debe ser
				<strong>reconocido y documentado</strong>
				.
			</p>
			<p class="text-amber-700 dark:text-amber-300 text-xs">
				Ver
				<a href="{{ site.url }}{{ site.baseurl }}/methodology/es/ai-practical-guide/" class="underline">
					Gu铆a Pr谩ctica de IA
				</a>
				.
			</p>
			{% else %}
			<p class="font-medium text-amber-800 dark:text-amber-200 mb-2"> On AI Usage</p>
			<p class="text-amber-700 dark:text-amber-300 mb-2">
				For
				<strong>complex tasks</strong>
				, the
				<strong>two-phase approach</strong>
				is recommended. All AI usage must be
				<strong>acknowledged and documented</strong>
				.
			</p>
			<p class="text-amber-700 dark:text-amber-300 text-xs">
				See
				<a href="{{ site.url }}{{ site.baseurl }}/methodology/en/ai-practical-guide/" class="underline">
					AI Practical Guide
				</a>
				.
			</p>
			{% endif %}
		</aside>
		<h1 class="text-4xl font-bold mb-4 text-slate-900 dark:text-neutral-100">{{ page.title }}</h1>
		<p class="canonical-url text-sm">
			<span class="sr-only">URL:</span>
			<a
				href="{{ site.url }}{{ site.baseurl }}{{ page.url }}"
				class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline"
				aria-label="Permanent link to this lesson">
				{{ site.url }}{{ site.baseurl }}{{ page.url }}
			</a>
		</p>
		{% if page.author or page.date %}
		<p class="text-slate-600 dark:text-neutral-400 text-sm mt-2">
			{% if page.author %}By {{ page.author }}{% endif %} {% if page.date %} 路 {{ page.date | date: "%Y-%m-%d" }}{% endif
			%}
		</p>
		{% endif %}
	</header>

	<div class="flex flex-col lg:flex-row lg:gap-8 lg:items-start">
		{% if has_toc %}
		<aside class="lg:w-64 flex-shrink-0 mb-8 lg:mb-0">
			<nav class="lg:sticky lg:top-8 lg:max-h-[calc(100vh-4rem)] lg:overflow-y-auto" aria-label="Table of Contents">
				<div class="bg-slate-50 dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-lg p-4">
					<h2 class="text-xs font-semibold text-slate-900 dark:text-neutral-100 uppercase tracking-wide mb-3">
						Table of Contents
					</h2>
					{% comment %} Placeholder for TOC that will be moved by JavaScript {% endcomment %}
					<div id="toc-sidebar-placeholder" class="text-xs leading-tight"></div>
				</div>
			</nav>
		</aside>
		{% endif %}

		<div class="flex-1 min-w-0 prose prose-lg prose-slate dark:prose-invert max-w-none">{{ content }}</div>
	</div>

	<script>
		// Move TOC from content to sidebar and hide the original heading
		(function () {
			const toc = document.getElementById('markdown-toc');
			const placeholder = document.getElementById('toc-sidebar-placeholder');

			if (toc && placeholder) {
				placeholder.appendChild(toc);
			}

			// Hide the TOC heading in the main content (handles multiple languages)
			const tocHeading = document.querySelector('h2.no_toc');
			if (tocHeading) {
				const text = tocHeading.textContent.toLowerCase();
				if (text.includes('table of contents') || text.includes('tabla de contenidos') || text.includes('')) {
					tocHeading.style.display = 'none';
				}
			}
		})();
	</script>
</article>
